{% extends 'basic.html' %}
{% load render_table from django_tables2 %}
 {% render_table table %}
  {% block content %} 
 {% load static %}
    <form  role="form" method="POST" enctype="multipart/form-data">
        {% csrf_token %} 
        <div class="message">
        {% if messages %} {% for message in messages %}
        <div class="alert alert-{{message.tags}}">
            {{message}}
        </div>
        {% endfor %} {% endif %}</div>

    {% if request.session.lgna != null %}
    <center>
            
        <div class="card border-info" style="width: 40%; margin-top: 20px;" align="center">
            <div class="card-header bg-info">
                <h3><b>Add Taluka</b></h3>
            </div>        
                <div class="card-block">        
           
    <div class="form-group" style="width: 40%">
        <label for="city"><b>District</b></label>
        <select id="dist" name="dist" class="form-control">
                {% for entry in d %}
                    <option value="{{ entry.District }}">{{ entry.District }}</option>
                {% endfor %}
                </select><br>
                <label for="point"><b>Add Taluka</b></label>
        <input type="text" class="form-control" id="taluka" name="taluka" placeholder="Taluka"><br>
        <button type="submit" class="btn btn-info inline"  id="submit">submit</button> 
    </div>
    </div>

  
    </div>
    <div style="margin-top: 50px;scroll-margin-bottom: 15px; border: 2px solid black; width: 55%;">
        <div class="table-responsive" style="font-size: 15px;width: 90%;">          
            <table  id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <center>
                    <h3 style="color: green">Taluka List</h3>
                </center>
                <thead>
                <tr>
                        <th>District</th>
                        <th>Taluka</th>
                        <th>Edit</th>                     
                        <th>Delete</th>                     
                </tr>
                </thead> 
                <tbody> 
                  {% for i in t %}{% for j in d %}{% if i.D_id == j.D_id %}
                  <tr class="danger">
                      <td>{{j.District}}</td>
                      <td>{{i.Taluka}}</td>
                      <td><a href="deletedis{{i.t_id}}"><button type="submit" class="btn btn-danger">Edit</button></a></td>
                      <td><a href="deletedis{{i.t_id}}"><button type="submit" class="btn btn-danger"><i class="fas fa-times"></i></button></a></td>
                  </tr>
             {% endif %}{% endfor %}{% endfor %}
                </tbody>
                  </table>
            </div>
        </div>
    </center> 
    {%endif%}
</form>

<!------ First latter is UpperCase ------>
<script>
    jQuery(document).ready(function() {

         // Capitalize string every 1st chacter of word to uppercase
         jQuery('#taluka').keyup(function() 
         {
             var str = jQuery('#taluka').val();
             var spart = str.split(" ");
             for ( var i = 0; i < spart.length; i++ )
             {
                 var j = spart[i].charAt(0).toUpperCase();
                 spart[i] = j + spart[i].substr(1);
             }
         jQuery('#taluka').val(spart.join(" "));             
         });
        });
</script>
<!--*******************************************************************************************-->
<!--Search the data and record find-->

<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" language="javascript" src="//cdn.datatables.net/responsive/1.0.2/js/dataTables.responsive.js"></script>
<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" />
<script type="text/javascript" language="javascript" src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

<!-- DataTables Select JS -->
<script href="js/addons/datatables-select.min.js" rel="stylesheet"></script>
<script>
 $('#example').dataTable({

columnDefs: [{
orderable: false,
className: 'select-checkbox',
targets: 0
}],
select: {
style: 'os',
selector: 'td:first-child'
}
});
</script>
    {% endblock %}