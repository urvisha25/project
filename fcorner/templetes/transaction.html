{% extends 'basic.html' %} {% load render_table from django_tables2 %} {% render_table table %} {% block content %} {% load static %}
 
  <style>
    /* Set height of the grid so .sidenav can be 100% (adjust if needed) */
    .row.content {
        height: auto;
        margin-top: 10px;
    }
    
    /* Set gray background color and 100% height */
    .sidenav {
      background-color: #f1f1f1;
      height: 100%;
    }       
    
    /* On small screens, set height to 'auto' for sidenav and grid */
    @media screen and (max-width: 700px) {
      .sidenav {
        height: auto;
        padding: 10px;
      }
      .row.content {height: auto;} 
    }
  </style>

<body>
   
        {% if request.session.lgnf %}
                 <div class="container-fluid">
                        <div class="row content">
                          <div class="col-sm-3 sidenav">  
                              <CENTER>  <h4>All List</h4> </CENTER>                        
                            <ul style="width: 130px" class="nav nav-pills nav-stacked">
                              <li style="margin-bottom: 5px;margin-left: 25px;"><a href="transaction{{9}}.html"><button type="button" id="{{1}}" class="btn btn-info" style="width: 230px">Rent Transaction</button></a></li>
                              <li style="margin-bottom: 5px; margin-left: 25px;"><a href="transaction{{10}}.html"><button type="button" id="{{2}}" class="btn btn-info" style="width: 230px">Trader Buy Product</button></a></li>                             
                            </ul>
                          <br>      
                          </div>
                          
                          <div class="col-sm-9">
                              <div class="card border-info" style="width: 100%; margin-top: 0px;" align="center">
                              <div class="table-responsive" style="font-size: 15px;">
                                 
                                <table id="dt-basic-checkbox" class="table table-striped table-bordered" cellspacing="0" width="100%">   
                                                     
                              
        <!-----------------------Rent in equipments and generate bill list----------------------->
                          {% if request.session.alistt == "translist" %}
                          <div class="card-header bg-info">
                              <h3><b>Rent in Equipments and Generate Bill List</b></h3>
                          </div>
                          <div class="card-body">
                              {% if messages %} {% for message in messages %}
                              <div class="alert alert-{{message.tags}}">{{ message }}</div>
                              {% endfor %} {% endif %}
                          </div>    
                                                                       
                                <thead>
                                  <tr align="center">
                                        <th>Equipment Name</th>
                                        <th>Holder Name</th>
                                        <th>Total In Rs</th>
                                        <th>Date</th>
                                        <th>Payment</th>
                                        <th>Bill</th>
                                        <th>Rate</th>               
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for i in translst %}                                
                                    <tr class="danger" align="center">
                                        <td>{{i.Name}}</td>
                                        <td>{{i.H_name}}</td>
                                        <td>{{i.Total}}</td> 
                                        <td>{{i.mydate}}</td>                                        
                                        <td>Paid</td>                                                                            
                                        <td><a href="rentfarmlist{{i.Rb_id}}" target="_blank"><button type="submit" class="btn btn-success" id="submit">Bill</button></a> </td>           
                                      {% if i.status == 0 %}
                                        {% if i.enddate >= dd %}
                                        <td><a href="rate{{i.Rb_id}}"><button  type="submit" class="btn btn-info" id="submit">RATE</button></a></td>           
                                        {% endif %}
                                        {% else %}
                                          <td>Thanks</td>
                                      {% endif %}
                                    </tr>
                                      {% endfor %}
                                </tbody>
                              
        <!----------------------Trader Buy Products---------------------->
        
                                {% elif request.session.alistt == "prolist" %}
                                <div class="card-header bg-info">
                                    <h3><b>Trader Buy Products</b></h3>
                                </div>
                                <div class="card-body">
                                    {% if messages %} {% for message in messages %}
                                    <div class="alert alert-{{message.tags}}">{{ message }}</div>
                                    {% endfor %} {% endif %}
                                </div>   
                                <thead>
                                <tr align="center">
                                          <th>Trader Name</th>
                                          <th>Product Name</th>
                                          <th>Email</th>
                                          <th>Quantity In Mann</th>
                                          <th>Price In Rs</th>
                                          <th>Date</th> 
                                          <th>Bill</th>  
                                </tr>
                                    </thead>
                                    <tbody>
                                      {% for i in tproductlst %}                                    
                                      <tr class="danger" align="center">
                                          <td>{{i.T_name}}</td>
                                          <td>{{i.P_name}}</td>                                  
                                          <td>{{i.email}}</td>
                                          <td>{{i.Quantity}}</td>
                                          <td>{{i.Price}}</td>
                                          <td>{{i.mydate}}</td>   
                                          <td><a href="rentfarmlist{{i.B_id}}" target="_blank"><button type="submit" class="btn btn-success" id="submit">Bill</button></a> </td>           
                                      </tr>                                    
                                      {% endfor %}
                                    </tbody>
                                {% endif %}
                        </table> 
                        </div>
                        </div>
                    </div>
                </div>
              </div>
          </div>
      </body>

        <!--------------------Trader Product Buy List-------------------->
          {% elif request.session.lgnt %}
        
            <div class="col-sm-12">
                <div class="card border-info" style="width: 100%; margin-top: 0px;" align="center">
                             
                    <div class="table-responsive" style="font-size: 15px;">
                        <table id="dt-basic-checkbox" class="table table-striped table-bordered" cellspacing="0" width="100%">   
                            <div class="card-header bg-info">
                                <h3><b>Trader Product Buy List</b></h3>
                            </div>
                            <div class="card-body">
                                {% if messages %} {% for message in messages %}
                                <div class="alert alert-{{message.tags}}">{{ message }}</div>
                                {% endfor %} {% endif %}
                            </div> 
                         
                  <thead>
                    <tr align="center">
                        <th>Farmer Name</th>
                        <th>Product Name</th>  
                        <th>Quantity In Mann</th>                                 
                        <th>Price In Rs</th>
                        <th>Date</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for i in tprotlst %}
                    <tr class="danger" align="center">
                        <td align="center">{{i.F_name}}</td>
                        <td align="center">{{i.P_name}}</td> 
                        <td align="center">{{i.Quantity}}</td>            
                        <td align="center">{{i.Price}}</td>
                        <td align="center">{{i.mydate}}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                    </table>
                </div>
                </div>
            </div>

{% endif %}
<!--*******************************************************************************************-->
<!--Search the data and record find-->

<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" language="javascript" src="//cdn.datatables.net/responsive/1.0.2/js/dataTables.responsive.js"></script>
<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" />
<script type="text/javascript" language="javascript" src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

<!-- DataTables Select JS -->
<script href="js/addons/datatables-select.min.js" rel="stylesheet"></script>
<script>
 $('#dt-basic-checkbox').dataTable({

columnDefs: [{
orderable: false,
className: 'select-checkbox',
targets: 0
}],
select: {
style: 'os',
selector: 'td:first-child'
}
});
</script>
{% endblock %}
