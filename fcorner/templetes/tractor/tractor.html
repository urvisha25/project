{% extends 'main.html' %} {% load static %} {% block content %}
<style>
    .col-sm-3 img {
        display: block;
        max-width: 100%;
        width: 350;
        height: 250;
    }
    
    .body {
        margin: 0px 5px 0px 5px;
        font-size: 15pt;
    }
    
    .bodyl {
        margin: 5px 5px 15px 5px;
        font-size: 10pt;
    }
    
    .footer {
        float: left;
        margin: 5px 5px 0px 10px;
    }
    
    .footerl {
        float: right;
        margin: 5px 5px 0px 10px;
    }

    /* Bottom right text */
.text-block {
  position: absolute;
  bottom: 20px;
  right: 20px; 
  color: red;
  padding-left: 20px;
  padding-right: 40px;
}
</style>

<div class="conatiner" style="margin: 160px 50px 50px 50px; background-color:gainsboro;">
    <div class="row text-center">

        {% for i in d|slice:"0:" %}
        <div class="col-sm-4">
            <div class="thumbnail" style="width:350px; height:auto;">
                <div><img src="/media/{{i.Image}}" alt="{{i.P_name}}" width="350" height="250">
                    <div class="text-block">
                        <i class="fas fa-star" aria-hidden="true"></i>
                      </div>
                </div>
                <div style="background-color:seashell; height:70px;">
                    <div align=left class="body"><strong>{{i.E_name}}</strong></div>
                    <div align=left class="bodyl"><i class="fas fa-map-marker-alt"></i> <b>{{i.City}}</b></div>
                </div>
                <div style="height:40px;background-color:whitesmoke">
                    {% if request.session.lgnf %}
                  <div class="footer"><a href="rentlist" style="color: red">Rent Now</a></div>
                  {% endif %}
                    <div class="footerl">{{i.Rent_price}}</div>
                </div>
                    </div>
        </div>

        {% endfor %}
    </div>
</div>

</div>
{% endblock %} {% block js %}
<script>
    console.log('working');
    if (localStorage.getItem('cart') == null) {
        var cart = {};
    } else {
        cart = JSON.parse(localStorage.getItem('cart'));
    }
    $('.cart').click(function() {
        console.log('clicked');
        var idstr = this.id;
        console.log(idstr);
        if (cart[idstr] != undefined) {
            cart[idstr] = cart[idstr] + 1;
        } else {
            cart[idstr] = 1;
        }
        console.log(cart);
        localStorage.setItem('cart', JSON.stringify(cart));
    });
</script>
{% endblock %}